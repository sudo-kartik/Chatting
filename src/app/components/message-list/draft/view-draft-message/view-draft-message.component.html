<div class="flex-container">
    <h1 class="page-header">Edit Draft</h1>

    <div class="form-container message-container">
        <form (submit)="sendMessage(message.message_recipient, message.message_subject, message.message_body, composeForm)" #composeForm="ngForm">

            <div class="form-group" [ngClass]="{'danger' : (!username.valid && username.touched), 'success' : username.valid}">
                <label for="username">To:</label>
                <input #inputForm [readonly]="processing" type="text" name="username" placeholder="Recipient" class="form-control dropdown"
                    #username="ngModel" [(ngModel)]="message.message_recipient" maxlength="50" required autocomplete="off">
            </div>

            <div class="form-group" [ngClass]="{'danger' : (!subject.valid && subject.touched), 'success' : (subject.valid)}">
                <label for="username">Subject:</label>
                <input [readonly]="processing" type="text" name="password" placeholder="Subject" class="form-control" #subject="ngModel"
                    [(ngModel)]="message.message_subject" maxlength="50" required>
            </div>

            <div class="form-group" [ngClass]="{'danger' : (!body.valid && body.touched), 'success' : (body.valid)}">
                <textarea placeholder="Message Body" [readonly]="processing" #body="ngModel" [(ngModel)]="message.message_body" name="message"
                    class="message-body form-control" required maxlength="500"></textarea>
            </div>

            <div class="form-group">

                <ul class="message-list-group">
                    <li class="message-list-item">
                        <button [disabled]="processing || !username.valid || !subject.valid || !body.valid" type="submit" class="btn-primary" name="button">Send</button>
                        <button type="button" (click)="updateDraft(message.message_recipient, message.message_subject, message.message_body, composeForm)"
                            [disabled]="processing || !username.valid || !subject.valid || !body.valid" type="button" class="btn-success"
                            name="button">
                            <i class="fa fa-save"></i>
                        </button>
                        <button type="button" (click)="deleteDraft()" class="btn-warning">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                        </button>
                    </li>
                </ul>
            </div>

        </form>
    </div>
</div>